/*!
* recrovit-rgf-blazor-ui.js v1.10.2
*/
window.Recrovit=window.Recrovit||{};window.Recrovit.RGF=window.Recrovit.RGF||{};window.Recrovit.RGF.Blazor=window.Recrovit.RGF.Blazor||{};var Blazor=window.Recrovit.RGF.Blazor;Blazor.UI={Base:{setFocus:function(n){var t=$(n);return t.length?(t.focus(),!0):!1},ensureVisible:async function(n,t=false,i=null,r=500,u=20){var f,e,c;try{if(f=$(n),f.length&&f.is(":visible")){i&&(e=f.closest(i),e.length&&(f=e));var l=$(window).scrollTop(),o=$(window).height(),a=l+o,s=f.offset().top,h=s+f.outerHeight(),v=f.outerHeight();return s>=l&&h<=a?(t&&f.focus(),!0):(c=s-u,h>a&&v<o&&(c=h-o+u),await new Promise(n=>{$("html, body").stop(!0,!0).animate({scrollTop:c},r,function(){t&&f.focus();n()})}),!0)}return!1}catch(y){return!1}},tooltip:function(n,t){var r=$(n),i;return r.length!==1?null:(i=bootstrap.Tooltip.getInstance(r[0]),r.is(":disabled")||!t||!t.title)?(i?.dispose(),null):(i?i.setContent({".tooltip-inner":t.title}):i=new bootstrap.Tooltip(r[0],{title:t.title,customClass:t.customClass||"rgf-tooltip-400",placement:t.placement||"top",trigger:t.trigger||"hover",html:t.allowHtml??!1,delay:{show:t.delayShow??500,hide:t.delayHide??100}}),i)},registerKeydown:function(n,t,i){if(t){var r=$(t);r.on("keydown.RgfUI",function(t){i&&i.includes(t.key)&&(t.preventDefault(),t.stopPropagation());var r={key:t.key,code:t.code,location:t.location,repeat:t.repeat,ctrlKey:t.ctrlKey,shiftKey:t.shiftKey,altKey:t.altKey,metaKey:t.metaKey,keyCode:t.keyCode,type:t.type};n.invokeMethodAsync("OnKeyDownJsCallback",r)})}},unregisterKeydown:function(n){n&&$(n).off("keydown.RgfUI")}},Dialog:{initialize:function(n,t,i,r,u){var f=document.getElementById(n),e;u||($("div.modal-dialog",f).draggable({handle:".modal-header, .dialog-header"}),$("div.modal-dialog",f).height("auto"),Blazor.UI.Dialog.loadDialogPos(i,n,!0),t&&(e=$("div.modal-content",f).first(),Recrovit.LPUtils.ResizableWithResponsiveFlex(e),window.setTimeout(function(){Recrovit.LPUtils.ResizeResponsiveFlex(e)},1e3)));r!=null?document.getElementById(r).focus():$(".btn-primary:first",f).focus()},saveDialogPos:function(n,t){const r=`RGF.DialogPos.${n}`;if(t==undefined)localStorage.removeItem(r);else{var i=$("div.modal-content:first",$("#"+t));const n=[4];n[0]=parseInt(i.css("width"));n[1]=parseInt(i.css("height"));i=i.parent("div.modal-dialog");n[2]=parseInt(i.offset().top)-window.scrollY;n[3]=parseInt(i.offset().left)-window.scrollX;localStorage.setItem(r,JSON.stringify(n))}},loadDialogPos:function(n,t,i){var o=$("div.modal-content:first","#"+t),u=o.parent("div.modal-dialog"),e,r,f;if(n!=null){if(e=localStorage.getItem(`RGF.DialogPos.${n}`),e!=undefined){const n=JSON.parse(e);o.css({width:`${n[0]}px`,height:`${n[1]}px`});r=n[2]<0?25:n[2];f=n[3]<0?25:n[3];$(window).height()<r+50&&(r=25);$(window).width()<f+50&&(f=25);u.css({top:`${r}px`,left:`${f}px`,margin:"0"});return}u.css("width","60%")}if(i==!0){var s=$(window).height(),h=u.height(),r=((s-h)/2).toFixed(0);r>0&&u.css("margin-top",r+"px")}}},Grid:{selectRow:function(n){$(n).addClass("table-primary")},deselectRow:function(n){$(n).removeClass("table-primary")},deselectAllRow:function(n){$("tr.table-primary",n).removeClass("table-primary")},initializeTable:function(n,t){var i=new Recrovit.WebCli.RgfTable(t);i.makeColumnsResizable(function(t,i,r){bootstrap.Tooltip.getInstance(i)?.dispose();n.invokeMethodAsync("SetColumnWidth",t+1,parseInt(r)||0)});i.makeColumnsDragable(function(t,i){t!=i&&t+1!=i&&n.invokeMethodAsync("SetColumnPos",t,i>t?i-1:i)});$("th",i.get_thead()).each(function(){$("div.ui-draggable",this).on("dragstart",function(n){bootstrap.Tooltip.getInstance($(n.target).closest("th")[0])?.dispose()})});BlazorGrids.initializeTooltips(n,t)},initializeTooltips:function(n,t){$("td",t).each(function(){var n=$(this);n.off("show.bs.tooltip");bootstrap.Tooltip.getInstance(n[0])?.dispose()});var i=$('td[data-bs-toggle="tooltip"]',t);i.each(function(){var i=$(this),t=new bootstrap.Tooltip(i[0],{title:i.text(),customClass:"rgf-tooltip-800 rgf-maxw-50",trigger:"hover",delay:{show:500},html:!0});i.on("show.bs.tooltip",async function(){if(t.tooltipText==null){var r=i.attr("data-cell"),u=i.closest("tr").attr("data-row");t.tooltipText=await n.invokeMethodAsync("GetTooltipText",parseInt(u),parseInt(r));t.tooltipText==null&&(t.tooltipText=i.text());t.setContent({".tooltip-inner":t.tooltipText})}setTimeout(function(){t.hide()},8e3)})})}},Chart:{initialize:async function(n,t){return Blazor.ApexCharts.onResize=async function(n,t){var i=$(n),r=Math.round($("div.card-body",i).first().width()),u=Math.round(i.height()),f=u-Math.round($("div.card-header",i).first().height());await t.invokeMethodAsync("Resize",r-1,f-66)},await Blazor.ApexCharts.initialize(n,t)}},ListBox:{resizable:function(n,t,i){var r=$(`#${n}`),u,f;t==null&&r.width(r.width());i==null&&r.height(r.height());u=r.outerWidth()+29;f=r.outerHeight()+26;r.resizable({minWidth:130,minHeight:61,create:function(){$(this).resizable("resizeTo",{width:u,height:f})},stop:function(){$(this).css({width:"",height:""})}})},resizableDestroy:function(n){$(`#${n}`).resizable("destroy")}},ComboBox:{initialize:function(n,t,i,r){var u=$(`#${t}`).rgcombobox({value:i,inputClass:"rgf-combobox-edit form-control form-control-sm",button:'<button class="rgf-combobox-button btn btn-outline-secondary" type="button" rgf-bs-combobox=""><i class="bi bi-caret-down-fill"><\/i><\/button>',noWrapper:!0,calcWidth:!1,width:r});u.rgcombobox("instance").input.autocomplete("widget").css("z-index",5e3);u.on("change.RGF-Client-Blazor-UI",function(t){var r=$(this),u,f,i;t.originalEvent?.type=="keyup"&&t.originalEvent?.key=="Enter"?(i=r.rgcombobox("instance").input.val(),n.invokeMethodAsync("OnEnter",i)):(u=r.find(":selected"),u.length==1?(f=u.val(),n.invokeMethodAsync("OnSelected",f)):(i=r.rgcombobox("instance").input.val(),n.invokeMethodAsync("OnChanged",i)))})},setText:function(n,t){$(`#${n}`).rgcombobox("instance").input.val(t)},clearText:function(n){$(`#${n}`).val("")},destroy:function(n){$(`#${n}`).off("change.RGF-Client-Blazor-UI").rgcombobox("destroy")}},Menu:{hide:function(n){$(n).removeClass("show")}},Splitter:{initialize:function(n){var t=$(n).children(".rgf-splitter");if(t.off("mousedown.rgfSplitter"),!t.prop("data-splitter-disabled"))t.on("mousedown.rgfSplitter",function(){var t=$(this);const i=t.parent().hasClass("horizontal"),r=i?100:50;var n=t.parent(),u=t.prev(),e=t.next(),f=!0;$("body").css("cursor",i?"ew-resize":"ns-resize");$(document).on("mousemove.rgfSplitter",function(o){var s,h,c,l;f&&(i?(c=n.offset().left,l=n.width(),s=o.pageX-c,h=l-s-t.outerWidth(!0),n.resizable("instance")&&n.resizable("option","minWidth",s+r)):(c=n.offset().top,l=n.height(),s=o.pageY-c,h=l-s-t.outerHeight(!0),n.resizable("instance")&&n.resizable("option","minHeight",s+r)),s>r&&h>r&&(u.css("flex",`0 0 ${s}px`),e.css("flex",`0 0 ${h}px`),BlazorSplitter.clearSiblingFlex(u,i)))});$(document).on("mouseup.rgfSplitter",function(){f=!1;$("body").css("cursor","");$(document).off("mousemove.rgfSplitter mouseup.rgfSplitter")})})},clearSiblingFlex:function(n,t){if(n.length!=0){var i=n?.children(".rgf-splitter-wrapper");if(i.length>0){if(t&&i.hasClass("horizontal")||!t&&i.hasClass("vertical")){i.children("div.rgf-splitter-flex-2").css("flex","");return}BlazorSplitter.clearSiblingFlex(i.children("div.rgf-splitter-flex-1"),t);BlazorSplitter.clearSiblingFlex(i.children("div.rgf-splitter-flex-2"),t)}}},resizable:function(n){$(n).resizable("instance")||$(n).resizable({resize:function(){$(this).find("div.rgf-splitter-flex-1, div.rgf-splitter-flex-2").css("flex","")}})},disable:function(n){var t=$(n),i=t.children(".rgf-splitter"),r=i.prev(),u=i.next();r.css("flex","");u.css("flex","");t.resizable("instance")&&t.resizable("destroy")}}};const BlazorBase=Blazor.UI.Base,BlazorGrids=Blazor.UI.Grid,BlazorSplitter=Blazor.UI.Splitter;